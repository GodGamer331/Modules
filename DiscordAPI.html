<!DOCTYPE html>
<html lang="en">
<!--<a class="tag-yields">YIELDS</a><a class="tag-deprecated">DEPRECATED</a>-->
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link rel="shortcut icon" type="x-icon" href="./images/logo.png">
        <title>Modules - Discord API</title>

        <link rel="stylesheet" href="styles.css">
    </head>

    <body>
        
        <header class="header">
            <img src="./images/logo.png" width="50px" height="50px" class="logo">
            <a href="#" class="logo"></a>

            <nav class="navbar">
                <a href="#">Back to Top</a>
                <div class="modules">
                    <a href="./modules.html" class="hoverable">Modules</a>
                    <div class="items">
                        <a class="item" href="./WebhookAPI.html">Webhook API</a>
                        <a class="item" href="./SimpleUtils.html">Simple Utils</a>
                        <a class="item" href="./DiscordAPI.html">Discord API</a>
                    </div>
                </div>
                <a href="./contact.html">Contact</a>
                <a href="./home.html">Home</a>

                <!--<a href="#">idk</a>
                <a href="#">idk 2</a>-->
            </nav>
            <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/github-dark.min.css">
            
        </header>
        <nav class="sidebar">
            <div class="side">
                <header>
                    <h4>Modules</h4>
                </header>
                <a href="#discordapi">Discord API</a><br>
                <a href="#getmemberslist" class="subcat">GetMembersList</a><br>
                <a href="#getmember" class="subcat">GetMember</a><br>
                <a href="#getroles" class="subcat">GetRoles</a><br>
                <a href="#getchannellist" class="subcat">GetChannelList</a><br>
                <a href="#getchannel" class="subcat">GetChannel</a><br>
                <a href="#sendmessage" class="subcat">SendMessage</a><br>
                <a href="#editmessage" class="subcat">EditMessage</a><br>
                <a href="#deletemessage" class="subcat">DeleteMessage</a><br>
                <a href="#getmessages" class="subcat">GetMessages</a><br>
                <a href="#types">Types</a><br>
                <a href="#embeddata", class="subcat">EmbedData</a><br>
                <a href="#messagelistdata" class="subcat">MessageListData</a><br>
                <a href="#roledata" class="subcat">RoleData</a><br>
                <a href="#memberlistdata" class="subcat">MemberListData</a><br>
                <a href="#channellistdata" class="subcat">ChannelListData</a><br>
                <a href="#snowflake" class="subcat">snowflake</a><br>
            </div>
            
           
        </nav>
        <div class="web">
            <a class="tag-wip">WORK IN PROGRESS</a><br>Anything here is subject to change.<br>
            <h1 id="discordapi">Discord API</h1>
This module helps you to communicate with discord easier. It can read member info, channel info and guild info. You need to know your server ID and your bot's token. In the module you'll find three string values: Server ID, Bearer Token and Bot Token. Server ID must be filled, and then you can fill either Bearer or Bot Token.<br>
<img src="./images/apilayout.png" width="169" height="116"><br>You can download the module <a href="./Downloadable/DiscordAPI.rbxm" class="link">here</a>.<br>
Module Version: <a class="ver">Version not loaded?</a>

<h3>Requiring the module</h3>
<pre style="tab-size: 4;" class="codeblock"><code class="language-lua">
local Discord = require(Path_to_module)
</code></pre>
<hr>
<h2>Base Functions</h2>
<br><br>
<h3 id="getmemberslist">:GetMembersList(Limit)</h3>
This function returns a table of all server members.
<table>
    <tr>
        <th>Key</th>
        <th>Type</th>
        <th>Required</th>
        <th>Default</th>
    </tr>
    <tr>
        <td>limit</td>
        <td>number</td>
        <td>false</td>
        <td>50</td>
    </tr>
</table>
<pre style="tab-size: 4;" class="codeblock"><code class="language-lua">
local Discord = require(Path_to_module)

local Members = Discord:GetMembersList(3)
print(Members)      --> {[1] = {. . .}, [2] = {. . .}, . . .}
</code></pre>
<hr>
<br><a class="tag-yields">YIELDS</a><br><h3 id="getmember">:GetMember(Username, Limit)</h3>
This function allows you to search for a discord user using either their nickname or their global name.
<table>
    <tr>
        <th>Key</th>
        <th>Type</th>
        <th>Required</th>
        <th>Default</th>
    </tr>
    <tr>
        <td>Username</td>
        <td>string</td>
        <td>true</td>
        <td>nil</td>
    </tr>
    <tr class="l">
        <td>Limit</td>
        <td>number</td>
        <td>false</td>
        <td>1</td>
    </tr>
</table>
<pre style="tab-size: 4;" class="codeblock"><code class="language-lua">
local Discord = require(Path_to_module)

local Member = Discord:GetMember("username", 1)
print(Member)   --> {[1] = {. . .}}
</code></pre>
<hr>
<br><br><h3 id="getroles">:GetRoles()</h3>
This functions returns a table with roles their IDs and other information.
<pre style="tab-size: 4;" class="codeblock"><code class="language-lua">
local Discord = require(Path_to_module)

local Roles = Discord:GetRoles()
print(Roles)    --> {[1] = {. . .}, [2] = {. . .}, . . .}
</code></pre>
<hr>
<br><br><h3 id="getchannellist">:GetChannelList()</h3>
This function returns all channels in a server in table form.
<pre style="tab-size: 4;" class="codeblock"><code class="language-lua">
local Discord = require(Path_to_module)

local Channels = Discord:GetChannelList()
print(Channels)     --> {[1] = {. . .}, . . ., [50] = {. . .}}
</code></pre>
<hr>
<br><br><h3 id="getchannel">:GetChannel(ChannelID)</h3>
This function returns the data of the channel.
<table>
    <tr>
        <th>Key</th>
        <th>Type</th>
        <th>Required</th>
        <th>Default</th>
    </tr>
    <tr>
        <td>ChannelID</td>
        <td>string-type number</td>
        <td>true</td>
        <td>nil</td>
    </tr>
</table>
<pre style="tab-size: 4;" class="codeblock"><code class="language-lua">
local Discord = require(Path_to_module)

local Channel = Discord:GetChannel("123456789")
print(Channel)  --> {. . .}
</code></pre>
<hr>
<br><br><h3 id="sendmessage">:SendMessage(ChannelID, Message)</h3>
This function returns three values: boolean, errorMessage (if any) and MessageData such as its ID.
<table>
    <tr>
        <th>Key</th>
        <th>Type</th>
        <th>Required</th>
        <th>Default</th>
    </tr>
    <tr>
        <td>ChannelID</td>
        <td>string-type number</td>
        <td>true</td>
        <td>nil</td>
    </tr>
    <tr class="l">
        <td>Message</td>
        <td>string</td>
        <td>true</td>
        <td>nil</td>
    </tr>
</table>
<pre style="tab-size: 4;" class="codeblock"><code class="language-lua">
local Discord = require(Path_to_module)

local success, err, data = Discord:SendMessage("123456789", "This is just a message.")
if not success then warn(err) end
print(data)     --> {id = ". . .", type = . . ., content: "This is just a message.", . . .}
</code></pre>
<hr>
<br><br><h3 id="editmessage">:EditMessage(ChannelID, MessageID, Data)</h3>
This function will edit the message and will return three values, boolean, errorMessage (if any) and MessageData.
<table>
    <tr>
        <th>Key</th>
        <th>Type</th>
        <th>Required</th>
        <th>Default</th>
    </tr>
    <tr>
        <td>ChannelID</td>
        <td>string-type number</td>
        <td>true</td>
        <td>nil</td>
    </tr>
    <tr class="l">
        <td>MessageID</td>
        <td>string-type number</td>
        <td>true</td>
        <td>nil</td>
    </tr>
    <tr>
        <td>Data</td>
        <td><table>
            <tr>
                <th>Key</th>
                <th>Type</th>
                <th>Required</th>
                <th>Default</th>
            </tr>
            <tr>
                <td>content</td>
                <td>string</td>
                <td>true</td>
                <td>nil</td>
            </tr>
            <tr class="l">
                <td>embeds</td>
                <td>table</td>
                <td>false</td>
                <td>nil</td>
            </tr>
        </table></td>
        <td>true</td>
        <td>nil</td>
    </tr>
</table>
<pre style="tab-size: 4;" class="codeblock"><code class="language-lua">
local Discord = require(Path_to_module)

local success, err, data = Discord:EditMessage("123456789", "987654321", {content = "A new message!", embeds = nil})
if not success then warn(err) end
print(data)     --> {. . .}
</code></pre>
<hr>
<br><br><h3 id="deletemessage">:DeleteMessage(ChannelID, MessageID)</h3>
This function will delete the message by its ID. It returns only two values: boolean and string.
<table>
    <tr>
        <th>Key</th>
        <th>Type</th>
        <th>Required</th>
        <th>Default</th>
    </tr>
    <tr>
        <td>ChannelID</td>
        <td>string-type number</td>
        <td>true</td>
        <td>nil</td>
    </tr>
    <tr class="l">
        <td>MessageID</td>
        <td>string-type number</td>
        <td>true</td>
        <td>nil</td>
    </tr>
</table>
<pre style="tab-size: 4;" class="codeblock"><code class="language-lua">
local Discord = require(Path_to_module)

local success, err = Discord:DeleteMessage("123456789", "987654321")
if not success then warn(err) end
</code></pre>
<hr>
<h3 id="getmessages">:GetMessages(ChannelID, Options)</h3>
This function will get all messages in a channel depending on the 4 options.
<table>
    <tr>
        <th>Key</th>
        <th>Type</th>
        <th>Required</th>
        <th>Default</th>
    </tr>
    <tr>
        <td>ChannelID</td>
        <td>string-type number</td>
        <td>true</td>
        <td>nil</td>
    </tr>
    <tr class="l">
        <td>Options</td>
        <td><table>
            <tr>
                <th>Key</th>
                <th>Type</th>
                <th>Required</th>
                <th>Default</th>
            </tr>
            <tr>
                <td>around*</td>
                <td>snowflake?</td>
                <td>false?</td>
                <td>nil</td>
            </tr>
            <tr class="l">
                <td>before*</td>
                <td>snowflake?</td>
                <td>false?</td>
                <td>nil</td>
            </tr>
            <tr>
                <td>after*</td>
                <td>snowflake?</td>
                <td>false?</td>
                <td>nil</td>
            </tr>
            <tr class="l">
                <td>limit</td>
                <td>number</td>
                <td>false</td>
                <td>50</td>
            </tr>
        </table></td>
        <td>true</td>
        <td>nil</td>
    </tr>
</table>
* One of these must be filled.
<pre style="tab-size: 4;" class="codeblock"><code class="language-lua">
local Discord = require(Path_to_module)

local Messages = Discord:GetMessages("123456789", {after = DateTime.fromLocalTime(2021, 11, 13, 0, 0, 0, 0000), limit = 10})
print(Messages)     --> {[1] = {. . .}, . . ., [10] = {. . .}}
</code></pre>

<hr>
<h2 id="types">Types</h2>
This section of the documentation will show all the types a function can return. Some are missing due to them being very similar to another mentioned.
<br>
<br>
<h3 id="embeddata">EmbedData</h3>
<pre style="tab-size: 4;" class="codeblock"><code class="language-lua">
type EmbedData = {
    [number]: {
        author: {
            name: string,
            icon_url: string
        },
        footer: {
            text: string,
            icon_url: string
        },
        image: {
            url: string
        },
        thumbnail: {
            url: string
        },
        fields: {
            [number]: {
                name: string,
                value: string,
                inline: boolean
            }
        },
        color: number,
        description: string,
        title: string,
        type: "rich"				-- Embed will ALWAYS be rich type
    }
}
</code></pre>
<hr>
<br><br><h3 id="messagelistdata">MessageListData</h3>
<pre style="tab-size: 4;" class="codeblock"><code class="language-lua">
type MessageListData = {
    [number]: {
        id: string,
        type: number,
        content: string,
        channel_id: string,
        author: {
            id: string,
            username: string,
            avatar: string,
            discriminator: string,
            public_flags: number,
            premium_type: number,
            flags: number,
            bot: boolean,
            global_name: string,
        },
        attachments: {},
        embeds: {
            [number]: {
                author: {
                    name: string,
                    icon_url: string
                },
                footer: {
                    text: string,
                    icon_url: string
                },
                image: {
                    url: string
                },
                thumbnail: {
                    url: string
                },
                fields: {
                    [number]: {
                        name: string,
                        value: string,
                        inline: boolean
                    }
                },
                color: number,
                description: string,
                title: string,
                type: "rich"
            }
        },
        mentions: {},
        mention_roles: {},
        pinned: boolean,
        mention_everyone: boolean,
        tts: boolean,
        timestamp: DateTime,
        edited_timestamp: DateTime,
        flags: number,
        referenced_message: string?
    }
}
</code></pre>
<hr>
<br><br><h3 id="roledata">RoleData</h3>
<pre style="tab-size: 4;" class="codeblock"><code class="language-lua">
type RoleData = {
    [number]: {
        color: number,
        flags: number,
        hoist: boolean,
        id: string,
        managed: boolean,
        mentionable: boolean,
        name: string,
        permissions: string,
        position: number
    }
}
</code></pre>
<hr>
<br><br><h3 id="memberlistdata">MemberListData</h3>
<pre style="tab-size: 4;" class="codeblock"><code class="language-lua">
type MemberListData = {
    [number]: {
        deaf: boolean,
        flags: number,
        joined_at: DateTime,
        mute: boolean,
        pending: boolean,
        roles: {
            [number]: string
        },
        user: {
            avatar: string,
            bot: boolean,
            discriminator: string,
            flags: number,
            id: string,
            premium_type: number,
            public_flags: number,
            username: string
        },
        GetRoles: () -> RoleData
    }
}
</code></pre>
<hr>
<br><br><h3 id="channellistdata">ChannelListData</h3>
<pre style="tab-size: 4;" class="codeblock"><code class="language-lua">
type ChannelListData = {
    [number]: {
        flags: number,
        guild_id: string,
        id: string,
        name: string,
        permission_overwrites: {
            [number]: {
                allow: string,
                deny: string,
                id: string,
                type: number
            }
        },
        position: number,
        type: number
    }
}
</code></pre>
<hr>
<br><br><h3 id="snowflake">snowflake</h3>
<pre style="tab-size: 4;" class="codeblock"><code class="language-lua">
type snowflake = 'DateTime in milliseconds string format. Ex. DateTime.fromLocalTime(2021, 11, 13, 0, 0, 0, 0000)'
</code></pre>
        </div>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
        <script>
            hljs.highlightAll();
        </script>
    </body>
    <script src="./main.js"></script>
</html>